<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.wujie.springbootlayui.sys.mapper.UserMapper">	<select id="queryUserByLoginName" resultType="java.lang.Integer">        select 1 from sys_user where login_name = #{loginName}    </select>	<select id="queryUserByPhone" resultType="java.lang.Integer">        select 1 from sys_user where phone = #{phone}    </select>	<select id="getDesk" resultType="com.wujie.springbootlayui.sys.entity.DeskParam">		select  a.attends,a.lateSum,a.earlySum,b.gates,b.onGate,b.offGate,p.records,p.visitor,p.highTemp ,a.noClock		FROM		(select count(id) attends, SUM( if(on_status = 2,1,0 )) lateSum,SUM( if(off_status = 3,1,0 )) earlySum,		SUM( if(on_status = 4 or off_status = 5,1,0 )) noClock from bus_attend_${belongId}		<where>			<if test="belongId != null">				and belong_id = #{belongId}			</if>			and attend_date like #{time}		</where>		) a ,		(select count(device_sn) gates, SUM( if(online_status = 1,1,0 )) onGate ,SUM( if(online_status = 2,1,0 )) offGate from bus_gate		<where>			<if test="belongId != null">				and belong_id = #{belongId}			</if>		</where>		) b,		(select  COUNT(id) records,SUM(identity_type = 2) visitor,SUM(36.3>temperature or temperature > 37.2) highTemp from bus_pass_record_${belongId}		<where>			<if test="belongId != null">				and belong_id = #{belongId}			</if>			and pass_time like #{time}		</where>		) p	</select></mapper>